最近的工作情况，难度比较大的项目。

http servlet生命周期，在springmvc对原生servlet做了一个怎么样的包装来实现一个自己的mvc能力的？
1.加载和实例化。Servlet容器负责加载和实例化Servlet。当Servlet容器启动时，或者在容器检测到需要这个Servlet来响应第一个请求时，创建Servlet实例。
2.初始化。在Servlet实例化之后，容器将调用Servlet的init()方法初始化这个对象。初始化的目的是为了让Servlet对象在处理客户端请求前完成一些初始化的工作，
3.请求处理。Servlet容器调用Servlet的service()方法对请求进行处理。service()方法为Servlet的核心方法，客户端的业务逻辑应该在该方法内执行，典型的服务方法的开发流程为：解析客户端请求-〉执行业务逻辑-〉输出响应页面到客户端
4.服务终止。容器就会调用实例的destroy()方法，以便让该实例可以释放它所使用的资源
在整个Servlet的生命周期过程中，创建Servlet实例、调用实例的init()和destroy()方法都只进行一次，当初始化完成后，Servlet容器会将该实例保存在内存中，通过调用它的service()方法，为接收到的请求服务。如建立数据库的连接，获取配置信息等。对于每一个Servlet实例，init()方法只被调用一次。

Spring web MVC框架提供了MVC(模型 - 视图 - 控制器)架构和用于开发灵活和松散耦合的Web应用程序的组件。MVC模式导致应用程序的不同方面(输入逻辑，业务逻辑和UI逻辑)分离，同时提供这些元素之间的松散耦合
模型（Model）：封装了应用程序的数据，通常由POJO类组成
视图（View）：负责渲染模型数据，一般来说它生成客户端浏览器可以解释HTML输出
控制器(Controller)：负责处理用户请求并构建适当的模型，并将其传递给视图进行渲染

Spring MVC框架是围绕DispatcherServlet设计的，它处理所有的请求和响应。
DispatcherServlet处理HTTP请求的工作流程：(DispatcherServlet，HandlerMapping，Controller，ViewResolver。简称DHCV)
1/接受HTTP请求后，DispatcherServlet
2/会查询HandlerMapping以调用相应的Controller（根据请求的url）
3/Controller接受请求并根据请求的类型Get/Post调用相应的服务方法，服务方法进行相应的业务处理，并设置模型数据，最后将视图名称返回给DispatcherServlet
4/DispatcherServlet根据返回的视图名称从ViewResolver获取对应的视图
5/DispatcherServlet将模型数据传递到最终的视图，并将视图返回给浏览器。

DispatcherServlet extends FrameworkServlet
FrameworkServlet extends HttpServletBean
HttpServletBean extends HttpServlet

FrameworkServlet重载了doGet、doPost、doPut、doDelete等方法
DispatcherServlet重载了FrameworkServlet#onRefresh方法，在HttpServletBean初始化init的时候被调用

HttpServletBean#init->initServletBean()->DispatcherServlet#initServletBean->initFrameworkServlet->initWebApplicationContext->onRefresh->DispatcherServlet#onRefresh->initStrategies





session和cookie区别，在服务端session有没有什么别的替代方案，来达到和session同样的效果？
cookie数据保存在客户端，session数据保存在服务器端。session 的运行依赖 session id，而 session id 是存在 cookie中的
为了解决禁用cookie后的页面处理，通常采用url重写技术

用Cookies有个底线。这个底线一般来说，遵循以下原则。
不要保存私人信息。
任何重要数据，最好通过加密形式来保存数据
是否保存登陆信息，需有用户自行选择。
单个cookie保存的数据不能超过4K。

cookie数据结构
编码
生命周期
名字
限制访问 Secure，HttpOnly
Domain 属性
Path 属性

session数据结构
sessionId
过期时间
超时时间

可以使用JWT（JSON WEB TOKEN）来替代session
jwt的第三部分是一个签证信息，这个签证信息由三部分组成：header (base64后的)、payload (base64后的)、secret，将这三部分用.连接成一个完整的字符串,构成了最终的jw
1/header
jwt的头部承载两部分信息：
{
  'typ': 'JWT',
  'alg': 'HS256'
}
声明类型，这里是jwt
声明加密的算法 通常直接使用 HMAC SHA256
2/playload
签发者、签发时间、过期时间、唯一身份标识，主要用来作为一次性token、
3/signature
base64加密后的header和base64加密后的payload使用.连接组成的字符串，然后通过header中声明的加密方式进行加盐secret组合加密，然后就构成了jwt的第三部分。

classLoader作用，怎么样把一个类装载起来，装载在jvm的哪一部分？
classLoader分类
bootstrap,加载 JAVA_HOME\lib 目录中。
ExeClassLoader，加载JAVA_HOME\jre\lib\ext 目录中
appClassLoader,加载用户路径（classpath）上的类库。

lvpri
loading加载。将二进制字节流转化为方法区的运行时数据结构，读入内存，并为之创建一个java.lang.Class对象。（二运数入内存，创class）
validate验证。确保 Class 文件的字节流中包含的信息是否符合当前虚拟机的要求，并且不会危害虚拟机自身的安全。
prepare准备。为类变量分配内存并设置类变量的初始值，静态常量此时为0
resolve解析。将常量池中的符号引用替换为直接引用的过程。
initialization初始化。声明类变量时指定初始值和使用静态初始化块为类变量指定初始值



如果想往java类中分配1G的内存空间，需要怎么样？注意哪些问题

HashMap是怎么扩展长度？什么时候扩展
当hashmap中的元素个数超过数组大小*loadFactor时，就会进行数组扩容，loadFactor的默认值为0.75，也就是说，默认情况下，数组大小为16，那么当hashmap中元素个数超过16*0.75=12的时候，就把数组的大小扩展为2*16=32，即扩大一倍，然后重新计算每个元素在数组中的位置，而这是一个非常消耗性能的操作。

jdk1.8在链表长度大于等于8的时候，转为红黑树插入；当小于等于6的时候转成链表。

这边也可以引申到一个问题HashMap是先插入还是先扩容：HashMap初始化后首次插入数据时，先发生resize扩容再插入数据，之后每当插入的数据个数达到threshold时就会发生resize，此时是先插入数据再resize。



线上OOM怎么处理

LinkedList是怎么样一个特性？LinkedList如果要倒排，最快的方式是怎么样的？生成一个新的linkedList。可以口述一个这个算法大概是什么样子的？

简单的linux命令会用的多么?

Linux下怎么找出来磁盘上哪个文件占的最大？

Mysql的B+树索引是怎么样去实现

Mysql的行锁底层是怎么实现的

Mybaits底层原理是什么样子的？是怎么做到数据库和对象的映射？

ORM Mapping你怎么理解它，它想解决一个什么痛点？



















NoSQL分为4类：K-V类、文档型、列式存储型、全文搜索型

NoSQL应用场景



springcloud常用的组件以及功能

springboot底层实现

做过哪些调优

Cpu/IO/

top -H

top -H -p <pid>

`H`:显示线程，默认只显示进程

显示完整命令top -c

数据库优化 

为什么使用索引会比较快

B+树是二叉树吗

Redis cluster模式，再看一下哨兵、codis

Redis持久化：RDB、AOF

Redis分布式锁原理

JDK连接池，拒绝策略有几种？底层数据结构是什么？

JDK底层源码看过哪些

业务这块儿，安全做过哪些

xss怎么处理

sql注入怎么处理

Fastjson 通过配置以下参数开启 SafeMode 来防护攻击：
ParserConfig.getGlobalInstance().setSafeMode(true);

常用的注解都有哪些

springmvc请求流程

java8都有哪些新的特性

java8的两个冒号是什么意思

redis端口号6379

Localcache作用

分布式缓存同时失效了，请求同时过来很多，怎么办

员工不加班你是怎么解决的

不加班有没有深入的原因？他对感兴趣的工作分配。进入的时候，快速团队氛围。

内部系统之前调用是用什么协议

服务治理，有没有实现的应用方案

beanFactory和factoryBean区别

spring窗口装载有顺序吗？等待所有的bean都装载完后，去做一些事情，这种一般采用什么方式。要知道所有的bean都已经完整的初始化过了，然后对bean再进行加工，这种一般通过什么方式去做。getBean()方法怎么确定已经加载完了呢？要保证所的bean的都初始化完了。init方法只对针对那个bean，但不能保证所有的bean都初始化完了。

order的作用是什么？是bean加载的顺序还是调用的顺序？

spring bean scrop有几种。spring bean默认是单例

Spring jdbc事务传播和隔离级别有什么区别。

面向领域驱动思想和方法论

都了解哪些开源框架

分库分表sharing-jdbc， shardingsphere

面向服务分片

大数据有没有接触过么





MVCC原理

MongoDB/HBase/Hardoop/spark/Flink 应用场景和原理

TiDB原理







